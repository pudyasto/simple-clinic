(function(a){a.fn.inactivityTimeout=function(d){var i={inactivityWait:600,dialogWait:60,bindEvents:"mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove",logoutUrl:"/logout",dialogMessage:'For security purposes, you will be automatically logged out in %s seconds due to inactivity.&nbsp;&nbsp;<a href="#" style="color: #FFF;"><strong>Click here to stay logged in.</strong></a>',dialogId:"inactivity-notifier",resetSelector:"#inactivity-notifier a",cookieName:"it_timestamp",dialogBorderColor:"#FF0000",dialogBackgroundColor:"#FF6666",dialogFontColor:"#FFF",dialogFontSize:"14px"};var m=a.extend(i,d);var c,k,l,f,h,g;var n=function(v,w,x){if(f){store.set(v,w);return}if(!x){x="/"}document.cookie=v+"="+w+"; path="+x};var r=function(w,z){if(f){return store.get(w)}if(!z){z="/"}var y=w+"=";var v=document.cookie.split(";");for(var x=0;x<v.length;x++){var A=v[x];while(A.charAt(0)==" "){A=A.substring(1,A.length)}if(A.indexOf(y)==0){return A.substring(y.length,A.length)}}return""};var o=function(v){if(v!=undefined&&v.type=="mousemove"){if(v.clientX==h&&v.clientY==g){return}h=v.clientX;g=v.clientY}n(m.cookieName,(new Date()).getTime())};var t=function(){var x=parseInt(r(m.cookieName));var w=(new Date).getTime();var v=x+(m.inactivityWait*1000);if(w>=v){p();u()}};var j=function(){var y=parseInt(r(m.cookieName));var x=(new Date).getTime();var w=y+(m.inactivityWait*1000);var v=w+(m.dialogWait*1000);if(x<w){s()}if(x>=v){p();window.location.href=m.logoutUrl}};var u=function(){var w=m.dialogMessage;var v=m.dialogWait;a("<div></div>").css({"border-bottom":"2px solid "+m.dialogBorderColor,"background-color":m.dialogBackgroundColor,color:m.dialogFontColor,padding:"10px","font-size":m.dialogFontSize}).html(w.replace("%s",v)).appendTo(a('<div id="'+m.dialogId+'"></div>').css({position:"fixed",width:"100%","text-align":"center","z-index":999999,top:0,left:0}).appendTo("body"));l=window.setInterval(function(){a("#"+m.dialogId).find("div").html(w.replace("%s",Math.max(--v,0)))},1000);k=window.setInterval(j,500)};var s=function(){p();q()};var p=function(){window.clearInterval(k);window.clearInterval(c);window.clearInterval(l);a("#"+m.dialogId).remove();e()};var q=function(){o();b();c=window.setInterval(t,1000)};var b=function(){a(document).bind(a.trim((m.bindEvents+" ").split(" ").join("._inactivityTimeout ")),function(v){o(v)})};var e=function(){a(document).unbind("._inactivityTimeout")};a("body").on("click",m.resetSelector,function(){s();return false});if((typeof store=="undefined")||!store.enabled){f=false}else{f=true}q()}})(jQuery);